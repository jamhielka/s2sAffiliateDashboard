{"remainingRequest":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\babel-loader\\lib\\index.js!D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JK2L2\\BUCKET\\s2sTracker\\src\\views\\auth\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\src\\views\\auth\\Login.vue","mtime":1646622190488},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\babel.config.js","mtime":1648769491690},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648193571030},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\babel-loader\\lib\\index.js","mtime":1648193571283},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648193571030},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\vue-loader\\lib\\index.js","mtime":1648193599351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzaG93UGFzc3dvcmQ6IGZhbHNlLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcnVsZXM6IHsKICAgICAgICByZXF1aXJlZDogW2Z1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlJlcXVpcmVkLiI7CiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBzb3VyY2U6IFN0cmluZwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHVzZXJuYW1lID0gdGhpcy51c2VybmFtZTsKICAgICAgdmFyIHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgibG9naW4iLCBkYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL2lmICgKICAgICAgICAvLyB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJSb2xlID09PSAiQURNSU4iIHx8CiAgICAgICAgLy8gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyUm9sZSA9PT0gIlJFU0JBS1VOQSIKICAgICAgICAvLykgewogICAgICAgIC8vICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FkbWluIik7CiAgICAgICAgLy99IGVsc2UgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMudXNlclJvbGUgPT09ICJWQUxJREFUT1IiKSB7CiAgICAgICAgLy8gIHRoaXMuJHJvdXRlci5wdXNoKCIvdmFsaWRhdG9yIik7CiAgICAgICAgLy99IGVsc2UgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2FkbWluIik7IC8vfQoKCiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGFsZXJ0KGVycik7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZEluKQogICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbikgewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvIi5jb25jYXQodGhpcy51c2VyUm9sZS50b0xvd2VyQ2FzZSgpKQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyUm9sZTogZnVuY3Rpb24gdXNlclJvbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJSb2xlOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACAC,oBADA;AAEAC,yBAFA;AAGAC,kBAHA;AAIAC,kBAJA;AAKAC;AACAC;AAAA;AAAA;AADA;AALA;AASA,GAZA;AAcAC;AACAC;AADA,GAdA;AAiBAC;AACAC,SADA,mBACA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACAP,0BADA;AAEAC;AAFA;AAKA,kBACAO,QADA,CACA,OADA,EACAX,IADA,EAEAY,IAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCATA,CAUA;;;AACA;AACA,OAdA,EAeAC,KAfA,CAeA;AACA;AACAC;AACAC;AACA,OAnBA;AAoBA;AAjCA,GAjBA;AAqDAC,SArDA,qBAqDA;AACA;AACA;AACA;AAAAC;AAAA;AACA;AACA,GA1DA;AA4DAC;AACAC,YADA,sBACA;AACA;AACA;AAHA;AA5DA","names":["name","data","loading","showPassword","username","password","rules","required","props","source","methods","login","dispatch","then","catch","alert","console","created","path","computed","userRole"],"sourceRoot":"src/views/auth","sources":["Login.vue"],"sourcesContent":["<template>\r\n  <v-main>\r\n    <v-container fluid fill-height>\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs12 sm8 md4>\r\n          <v-card class=\"elevation-12\">\r\n            <v-toolbar dark color=\"primary\">\r\n              <v-toolbar-title>Login form</v-toolbar-title>\r\n            </v-toolbar>\r\n            <v-card-text>\r\n              <v-form ref=\"form\" lazy-validation>\r\n                <v-text-field\r\n                  prepend-icon=\"mdi-account\"\r\n                  label=\"Login\"\r\n                  type=\"text\"\r\n                  v-model=\"username\"\r\n                  :rules=\"rules.required\"\r\n                ></v-text-field>\r\n                <v-text-field\r\n                  id=\"password\"\r\n                  :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  prepend-icon=\"mdi-lock\"\r\n                  label=\"Password\"\r\n                  :type=\"showPassword ? 'text' : 'password'\"\r\n                  v-model=\"password\"\r\n                  :rules=\"rules.required\"\r\n                  @click:append=\"showPassword = !showPassword\"\r\n                ></v-text-field>\r\n              </v-form>\r\n            </v-card-text>\r\n            <v-card-actions class=\"pb-10\">\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                color=\"primary\"\r\n                class=\"px-5\"\r\n                @click=\"login\"\r\n                :disabled=\"loading\"\r\n              >\r\n                <v-progress-circular\r\n                  v-if=\"loading\"\r\n                  indeterminate\r\n                  class=\"mr-2\"\r\n                ></v-progress-circular>\r\n                <span v-if=\"!loading\">Login</span>\r\n                <span v-if=\"loading\">Logging in</span>\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      showPassword: false,\r\n      username: \"\",\r\n      password: \"\",\r\n      rules: {\r\n        required: [(value) => !!value || \"Required.\"],\r\n      },\r\n    };\r\n  },\r\n\r\n  props: {\r\n    source: String,\r\n  },\r\n  methods: {\r\n    login() {\r\n      if (!this.$refs.form.validate()) {\r\n        return false;\r\n      }\r\n      this.loading = true;\r\n      let username = this.username;\r\n      let password = this.password;\r\n      const data = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n\r\n      this.$store\r\n        .dispatch(\"login\", data)\r\n        .then(() => {\r\n          //if (\r\n           // this.$store.getters.userRole === \"ADMIN\" ||\r\n           // this.$store.getters.userRole === \"RESBAKUNA\"\r\n          //) {\r\n          //  this.$router.push(\"/admin\");\r\n          //} else if (this.$store.getters.userRole === \"VALIDATOR\") {\r\n          //  this.$router.push(\"/validator\");\r\n          //} else {\r\n            this.$router.push(\"/admin\");\r\n          //}\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          alert(err);\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    // console.log(this.$store.getters.isLoggedIn)\r\n    if (this.$store.getters.isLoggedIn) {\r\n      return this.$router.push({ path: `/${this.userRole.toLowerCase()}` });\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    userRole() {\r\n      return this.$store.getters.userRole;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}