{"remainingRequest":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\babel-loader\\lib\\index.js!D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JK2L2\\BUCKET\\s2sTracker\\src\\views\\pages\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\src\\views\\pages\\Dashboard.vue","mtime":1648769845256},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648770304215},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\babel-loader\\lib\\index.js","mtime":1648770305500},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648770304215},{"path":"D:\\JK2L2\\BUCKET\\s2sTracker\\node_modules\\vue-loader\\lib\\index.js","mtime":1648770307141}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9pbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBTY2hlZHVsZURpYWxvZyBmcm9tICIuLi9kaWFsb2dzL3NjaGVkdWxpbmcudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNjaGVkdWxlRGlhbG9nOiBTY2hlZHVsZURpYWxvZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogIiIsCiAgICAgIGVtcGxveWVlczogW10sCiAgICAgIHNjaGVkdWxlZERhdGE6IHt9LAogICAgICBzY2hlZHVsZURpYWxvZzogewogICAgICAgIGRpYWxvZzogZmFsc2UKICAgICAgfSwKICAgICAgaGVhZGVyczogW10sCiAgICAgIGRlc3NlcnRzOiBbXSwKICAgICAgZXhwb3J0RGF0YTogW10sCiAgICAgIGZpbGVOYW1lOiAiIgogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEV2ZW50cygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RXZlbnRzOiBmdW5jdGlvbiBnZXRFdmVudHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL0FQSQogICAgICB2YXIgVFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7IC8vL2NvbnNvbGUubG9nKFRUb2tlbik7CgogICAgICB0aGlzLiRhcGkuZ2V0KCJhZG1pbi9zY2hlZHVsZSIsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBUVG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2coImRhdGEiLCByZXNwb25zZS5kYXRhKTsgLy90aGlzLmVtcGxveWVlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5lbXBsb3llZXM7CgogICAgICAgIHZhciBuZXdFbXBsb3llZXMgPSByZXNwb25zZS5kYXRhLmRhdGEuZW1wbG95ZWVzOwogICAgICAgIHZhciBuZXdIZWFkZXJzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmhlYWRlcnM7CiAgICAgICAgdmFyIG9iaiA9IHt9OyAvL0hFQURFUlMgVEFCTEUKCiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBuZXdIZWFkZXJzLmxlbmd0aDsgeSsrKSB7CiAgICAgICAgICBfdGhpcy50bXAgPSB7CiAgICAgICAgICAgIHRleHQ6IG5ld0hlYWRlcnNbeV0sCiAgICAgICAgICAgIHZhbHVlOiBuZXdIZWFkZXJzW3ldCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzLmhlYWRlcnMucHVzaChfdGhpcy50bXApOwogICAgICAgIH0gLy9IRUFERVJTIFRBQkxFCgoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0VtcGxveWVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG5ld1NjaGVkdWxlcyA9IG5ld0VtcGxveWVlc1tpXS5zY2hlZHVsZXM7CiAgICAgICAgICBfdGhpcy50bXAyID0gewogICAgICAgICAgICBlbXBsb3llZUlkOiBuZXdFbXBsb3llZXNbaV0uZW1wbG95ZWVJZCwKICAgICAgICAgICAgIkVtcGxveWVlIE5hbWUiOiBuZXdFbXBsb3llZXNbaV0uZnVsbE5hbWUKICAgICAgICAgIH07CgogICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBuZXdTY2hlZHVsZXMubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgb2JqW21vbWVudChuZXdTY2hlZHVsZXNbeF1bInNjaGVkdWxlRGF0ZUxhYmVsIl0pLmZvcm1hdCgiTU0tREQtWVlZWSIpXSA9IG5ld1NjaGVkdWxlc1t4XVsidGltZUxhYmVsIl07CiAgICAgICAgICAgIG9ialsiV29ya2luZyBIb3VycyJdID0gbmV3RW1wbG95ZWVzW2ldLnN1bW1hcnkud29ya2luZ0hvdXJzOwogICAgICAgICAgICBvYmpbIk9UIl0gPSBuZXdFbXBsb3llZXNbaV0uc3VtbWFyeS5vdDsKICAgICAgICAgICAgb2JqWyJIb2xpZGF5Il0gPSBuZXdFbXBsb3llZXNbaV0uc3VtbWFyeS5ob2xpZGF5OwogICAgICAgICAgICBvYmpbIkxlYXZlIl0gPSBuZXdFbXBsb3llZXNbaV0uc3VtbWFyeS5sZWF2ZTsKICAgICAgICAgIH0gLy8gIH0KCgogICAgICAgICAgdmFyIG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzLnRtcDIsIG9iaik7IC8vY29uc29sZS5sb2cobWVyZ2VkKTsKCiAgICAgICAgICBfdGhpcy5kZXNzZXJ0cy5wdXNoKG1lcmdlZCk7CgogICAgICAgICAgX3RoaXMuZXhwb3J0RGF0YS5wdXNoKG1lcmdlZCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5maWxlTmFtZSA9ICJJYmFzX21hdGVyaWFsc18iLmNvbmNhdChtb21lbnQobW9tZW50KCkudG9EYXRlKCkpLmZvcm1hdCgiTU1NX0REX1lZWVkiKSk7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZGVzc2VydHMpOyAvLyBjb25zb2xlLmxvZyh0aGlzLmhlYWRlcnMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIC8vdGhpcy50YWJsZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEV2ZW50Q29sb3I6IGZ1bmN0aW9uIGdldEV2ZW50Q29sb3IoZXZlbnQpIHsKICAgICAgcmV0dXJuIGV2ZW50LmNvbG9yOwogICAgfSwKICAgIHJuZDogZnVuY3Rpb24gcm5kKGEsIGIpIHsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGIgLSBhICsgMSkgKiBNYXRoLnJhbmRvbSgpKSArIGE7CiAgICB9LAogICAgc2hvd0V2ZW50OiBmdW5jdGlvbiBzaG93RXZlbnQoX3JlZikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBuYXRpdmVFdmVudCA9IF9yZWYubmF0aXZlRXZlbnQsCiAgICAgICAgICBldmVudCA9IF9yZWYuZXZlbnQ7CgogICAgICB2YXIgb3BlbiA9IGZ1bmN0aW9uIG9wZW4oKSB7CiAgICAgICAgX3RoaXMyLnNlbGVjdGVkRXZlbnQgPSBldmVudDsKICAgICAgICBfdGhpczIuc2VsZWN0ZWRFbGVtZW50ID0gbmF0aXZlRXZlbnQudGFyZ2V0OwogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZWxlY3RlZE9wZW4gPSB0cnVlOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBpZiAodGhpcy5zZWxlY3RlZE9wZW4pIHsKICAgICAgICB0aGlzLnNlbGVjdGVkT3BlbiA9IGZhbHNlOwogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG9wZW4oKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9wZW4oKTsKICAgICAgfQoKICAgICAgbmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9LAogICAgU2V0U2NoZWR1bGU6IGZ1bmN0aW9uIFNldFNjaGVkdWxlKGl0ZW0pIHsKICAgICAgLy9jb25zb2xlLmxvZygiU2NoZWR1bGUiICsgaXRlbS5lbXBsb3llZUlkKTsKICAgICAgdGhpcy5zY2hlZHVsZWREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuc2NoZWR1bGVEaWFsb2cuZGlhbG9nID0gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"admin-schedule\">\r\n    <!-- <v-card-title>\r\n      Employee Scheduling\r\n      <v-spacer></v-spacer>\r\n      <v-text-field\r\n        v-model=\"search\"\r\n        append-icon=\"mdi-magnify\"\r\n        label=\"Search\"\r\n        single-line\r\n        hide-details\r\n      ></v-text-field>\r\n    </v-card-title>\r\n    <v-simple-table  :search=\"search\">\r\n      <template v-slot:default>\r\n        <thead>\r\n          <tr>\r\n            <th v-for=\"header in headers\" :key=\"header\">{{ header }}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"employee in employees\" :key=\"employee._id\">\r\n            <td>{{ employee.fullName }}</td>\r\n            <td\r\n              @click=\"SetSchedule(employee)\"\r\n              v-for=\"schedule in employee.schedules\"\r\n              :key=\"schedule.scheduleDate\"\r\n            >\r\n              <span v-if=\"schedule.hasSchedule\">{{ schedule.timeLabel }} </span>\r\n            </td>\r\n            <td>{{ employee.summary.workingHours }}</td>\r\n            <td>{{ employee.summary.ot }}</td>\r\n            <td>{{ employee.summary.holiday }}</td>\r\n            <td>{{ employee.summary.leave }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </template>\r\n    </v-simple-table> -->\r\n\r\n    <v-card>\r\n      <v-card-title>\r\n        Scheduling\r\n        <v-spacer></v-spacer>\r\n        <v-text-field\r\n          v-model=\"search\"\r\n          append-icon=\"mdi-magnify\"\r\n          label=\"Search\"\r\n          single-line\r\n          hide-details\r\n        ></v-text-field>\r\n        <v-spacer></v-spacer>\r\n        <!-- <v-btn color=\"primary\" class=\"ml-auto\">\r\n          <download-csv :data=\"exportData\" :name=\"`${fileName}.csv`\">\r\n            <v-icon dense>mdi-download</v-icon>\r\n            Export\r\n          </download-csv>\r\n        </v-btn> -->\r\n      </v-card-title>\r\n      <v-data-table\r\n        @click:row=\"SetSchedule\"\r\n        item-key=\"name\"\r\n        single-select\r\n        :headers=\"headers\"\r\n        :items=\"desserts\"\r\n        :search=\"search\"\r\n        class=\"elevation-1 mytable\"\r\n      >\r\n      </v-data-table>\r\n    </v-card>\r\n\r\n    <ScheduleDialog\r\n      :data=\"scheduledData\"\r\n      :dialog=\"scheduleDialog.dialog\"\r\n      @close=\"scheduleDialog.dialog = !scheduleDialog.dialog\"\r\n      @SchedItemConfirm=\"SchedItemConfirm()\"\r\n    ></ScheduleDialog>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\ntable > tr > td:nth-child(1),\r\ntable > thead > tr > th:nth-child(1) {\r\n  position: sticky !important;\r\n  position: -webkit-sticky !important;\r\n  left: 0 !important;\r\n  z-index: 1 !important;\r\n  background: white !important;\r\n}\r\ntable > thead > tr > th:nth-child(1) {\r\n  z-index: 1 !important;\r\n}\r\ntable > tbody > tr > td:nth-child(1) {\r\n  border-right: 1px solid rgb(12, 1, 1) !important;\r\n}\r\ntable > thead > tr > th:nth-child(1) {\r\n  border-right: 1px solid rgb(12, 1, 1) !important;\r\n}\r\n</style>\r\n<script>\r\n//import axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport ScheduleDialog from \"../dialogs/scheduling.vue\";\r\nexport default {\r\n  components: {\r\n    ScheduleDialog,\r\n  },\r\n  data: () => ({\r\n    search: \"\",\r\n    employees: [],\r\n    scheduledData: {},\r\n    scheduleDialog: { dialog: false },\r\n    headers: [],\r\n    desserts: [],\r\n    exportData: [],\r\n    fileName: \"\",\r\n  }),\r\n  created() {\r\n    this.getEvents();\r\n  },\r\n  methods: {\r\n    getEvents() {\r\n      //API\r\n\r\n      var TToken = localStorage.getItem(\"token\");\r\n      ///console.log(TToken);\r\n      this.$api\r\n        .get(\"admin/schedule\", {\r\n          headers: {\r\n            Authorization: TToken,\r\n          },\r\n        })\r\n\r\n        .then((response) => {\r\n          console.log(\"data\", response.data);\r\n          //this.employees = response.data.data.employees;\r\n          const newEmployees = response.data.data.employees;\r\n          const newHeaders = response.data.data.headers;\r\n\r\n          var obj = {};\r\n          //HEADERS TABLE\r\n          for (var y = 0; y < newHeaders.length; y++) {\r\n            this.tmp = {\r\n              text: newHeaders[y],\r\n              value: newHeaders[y],\r\n            };\r\n            this.headers.push(this.tmp);\r\n          }\r\n          //HEADERS TABLE\r\n          for (var i = 0; i < newEmployees.length; i++) {\r\n            const newSchedules = newEmployees[i].schedules;\r\n            this.tmp2 = {\r\n              employeeId: newEmployees[i].employeeId,\r\n              \"Employee Name\": newEmployees[i].fullName,\r\n            };\r\n\r\n            for (var x = 0; x < newSchedules.length; x++) {\r\n              obj[\r\n                moment(newSchedules[x][\"scheduleDateLabel\"]).format(\r\n                  \"MM-DD-YYYY\"\r\n                )\r\n              ] = newSchedules[x][\"timeLabel\"];\r\n\r\n              obj[\"Working Hours\"] = newEmployees[i].summary.workingHours;\r\n              obj[\"OT\"] = newEmployees[i].summary.ot;\r\n              obj[\"Holiday\"] = newEmployees[i].summary.holiday;\r\n              obj[\"Leave\"] = newEmployees[i].summary.leave;\r\n            }\r\n\r\n            //  }\r\n            const merged = Object.assign({}, this.tmp2, obj);\r\n            //console.log(merged);\r\n            this.desserts.push(merged);\r\n            this.exportData.push(merged);\r\n          }\r\n\r\n         this.fileName = `Ibas_materials_${moment(\r\n                  moment().toDate()\r\n                ).format(\"MMM_DD_YYYY\")}`;\r\n          console.log(this.desserts);\r\n          // console.log(this.headers);\r\n        })\r\n        .catch((e) => {\r\n          //this.table.loading = false;\r\n          console.log(e);\r\n        });\r\n    },\r\n    getEventColor(event) {\r\n      return event.color;\r\n    },\r\n    rnd(a, b) {\r\n      return Math.floor((b - a + 1) * Math.random()) + a;\r\n    },\r\n    showEvent({ nativeEvent, event }) {\r\n      const open = () => {\r\n        this.selectedEvent = event;\r\n        this.selectedElement = nativeEvent.target;\r\n        requestAnimationFrame(() =>\r\n          requestAnimationFrame(() => (this.selectedOpen = true))\r\n        );\r\n      };\r\n\r\n      if (this.selectedOpen) {\r\n        this.selectedOpen = false;\r\n        requestAnimationFrame(() => requestAnimationFrame(() => open()));\r\n      } else {\r\n        open();\r\n      }\r\n\r\n      nativeEvent.stopPropagation();\r\n    },\r\n    SetSchedule(item) {\r\n      //console.log(\"Schedule\" + item.employeeId);\r\n      this.scheduledData = Object.assign({}, item);\r\n\r\n      this.scheduleDialog.dialog = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/pages"}]}