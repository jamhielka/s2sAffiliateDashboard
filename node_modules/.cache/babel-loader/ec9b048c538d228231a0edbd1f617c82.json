{"remainingRequest":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\babel-loader\\lib\\index.js!D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\JK2L2\\BUCKET\\S2S_Affiliate\\src\\store\\modules\\AuthModule.js","dependencies":[{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\src\\store\\modules\\AuthModule.js","mtime":1651218734983},{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648442351798},{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\babel-loader\\lib\\index.js","mtime":1648442351661},{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\eslint-loader\\index.js","mtime":1648442484257}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAiIiwKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIiwKICAgIHVzZXI6ICcnLAogICAgcm9sZTogJycsCiAgICBwYXJ0bmVyOiAnJywKICAgIHVzZXJpZDogJycsCiAgICBlbWFpbDogJycKICB9LAogIG11dGF0aW9uczogewogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gImxvYWRpbmciOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpOwogICAgICBzdGF0ZS5zdGF0dXMgPSAic3VjY2VzcyI7CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICAgIHN0YXRlLnVzZXIgPSBwYXlsb2FkLmZpcnN0bmFtZTsKICAgICAgc3RhdGUucm9sZSA9ICIiOwogICAgICBzdGF0ZS5wYXJ0bmVyID0gIiI7CiAgICAgIHN0YXRlLnVzZXJpZCA9IHBheWxvYWQuVXNlcklEOwogICAgICBzdGF0ZS5lbWFpbCA9IHBheWxvYWQuZW1haWw7CiAgICB9LAogICAgYXV0aF9lcnJvcjogZnVuY3Rpb24gYXV0aF9lcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAiZXJyb3IiOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICIiOwogICAgICBzdGF0ZS50b2tlbiA9ICIiOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgX3VzZXJuYW1lID0gJ3Myc0FmZjAwMSc7CiAgICAgIHZhciBfcGFzc3dvcmQgPSAnWFN4RkVAQXRRdiMnOwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGF1dGg6IHsKICAgICAgICAgIHVzZXJuYW1lOiBfdXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogX3Bhc3N3b3JkCiAgICAgICAgfQogICAgICB9OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7IC8vY29uc29sZS5sb2codXNlcik7CgogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xNjEuNDkuNjMuNDU6OTA5NS9hcGkvQWZmaWxpYXRlL1VzZXJMb2dpbicsIHVzZXIsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuZGF0YS5kYXRhWzBdLk1lc3NhZ2UgPT0gIklOVkFMSUQiKSB7CiAgICAgICAgICAgIC8vIGFsZXJ0KCJJbnZhbGlkIHVzZXJuYW1lL3Bhc3N3b3JkIikKICAgICAgICAgICAgLy8gcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIHJlamVjdCgiSW52YWxpZCB1c2VybmFtZS9wYXNzd29yZCIpOwogICAgICAgICAgfSAvLyBjb25zdCB0b2tlbiA9IHJlc3AuZGF0YS5tZXNzYWdlCiAgICAgICAgICAvLyBjb25zdCB1c2VyID0gcmVzcC5kYXRhLnN0YXR1c0NvZGUKICAgICAgICAgIC8vIGNvbnN0IHJvbGUgPSByZXNwLmRhdGEudXJvbGUKCgogICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTsKICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlc3AuZGF0YS5kYXRhWzBdOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLmRhdGFbMF0uVXNlcklEKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyaWQnLCByZXNwLmRhdGEuZGF0YVswXS5Vc2VySUQpOyAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyTmFtZScsIHJlc3AuZGFvdGEuZGF0YS5hZG1pbkxvZ2luLm5hbWUpOwogICAgICAgICAgLy9yZXNwb25zZS5maXJzdG5hbWUgPSB1c2VyLlVzZXJOYW1lOwogICAgICAgICAgLy8gYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuCgogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCByZXNwb25zZSk7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyaWQnKTsgLy8gZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10KCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgdG9rZW46IGZ1bmN0aW9uIHRva2VuKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b2tlbjsKICAgIH0sCiAgICBhdXRoU3RhdHVzOiBmdW5jdGlvbiBhdXRoU3RhdHVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7CiAgICB9LAogICAgLy8gdXNlclJvbGU6IHN0YXRlID0+IHN0YXRlLnJvbGUsCiAgICAvLyB1c2VyUm9sZTogc3RhdGUgPT4gewogICAgLy8gICAgcmV0dXJuIHN0YXRlLnJvbGU7CiAgICAvLyAgfSwKICAgIGdldFVzZXJuYW1lOiBmdW5jdGlvbiBnZXRVc2VybmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZW1haWw7CiAgICB9IC8vZ2V0UGFydG5lcjogc3RhdGUgPT4gewogICAgLy8gIHJldHVybiBzdGF0ZS5wYXJ0bmVyCiAgICAvL30KCiAgfQp9Ow=="},{"version":3,"sources":["D:/JK2L2/BUCKET/S2S_Affiliate/src/store/modules/AuthModule.js"],"names":["axios","state","status","token","localStorage","getItem","user","role","partner","userid","email","mutations","auth_request","auth_success","payload","console","log","firstname","UserID","auth_error","logout","actions","login","commit","_username","_password","config","auth","username","password","Promise","resolve","reject","post","then","resp","data","Message","response","setItem","catch","err","removeItem","error","getters","isLoggedIn","authStatus","getUsername"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAFnC;AAGLC,IAAAA,IAAI,EAAE,EAHD;AAILC,IAAAA,IAAI,EAAE,EAJD;AAKLC,IAAAA,OAAO,EAAE,EALJ;AAMLC,IAAAA,MAAM,EAAC,EANF;AAOLC,IAAAA,KAAK,EAAC;AAPD,GADM;AAWbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIX,KADJ,EACW;AAClBA,MAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,KAHQ;AAITW,IAAAA,YAJS,wBAIIZ,KAJJ,EAIWa,OAJX,EAIoB;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACIb,MAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACAD,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACAF,MAAAA,KAAK,CAACK,IAAN,GAAYQ,OAAO,CAACG,SAApB;AACAhB,MAAAA,KAAK,CAACM,IAAN,GAAa,EAAb;AACAN,MAAAA,KAAK,CAACO,OAAN,GAAgB,EAAhB;AACAP,MAAAA,KAAK,CAACQ,MAAN,GAAaK,OAAO,CAACI,MAArB;AACAjB,MAAAA,KAAK,CAACS,KAAN,GAAYI,OAAO,CAACJ,KAApB;AACD,KAbQ;AAcTS,IAAAA,UAdS,sBAcElB,KAdF,EAcS;AAChBA,MAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACD,KAhBQ;AAiBTkB,IAAAA,MAjBS,kBAiBFnB,KAjBE,EAiBK;AACZA,MAAAA,KAAK,CAACC,MAAN,GAAe,EAAf;AACAD,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACD;AApBQ,GAXE;AAkCbkB,EAAAA,OAAO,EAAE;AACPC,IAAAA,KADO,uBACWhB,IADX,EACiB;AAAA,UAAhBiB,MAAgB,QAAhBA,MAAgB;AACtB,UAAMC,SAAS,GAAG,WAAlB;AACA,UAAMC,SAAS,GAAG,aAAlB;AACA,UAAIC,MAAM,GAAG;AACbC,QAAAA,IAAI,EAAE;AACJC,UAAAA,QAAQ,EAAEJ,SADN;AAEHK,UAAAA,QAAQ,EAAEJ;AAFP;AADO,OAAb;AAMA,aAAO,IAAIK,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvCT,QAAAA,MAAM,CAAC,cAAD,CAAN,CADuC,CAE3C;;AACKvB,QAAAA,KAAK,CAACiC,IAAN,CAAW,kDAAX,EAA+D3B,IAA/D,EAAoEoB,MAApE,EACGQ,IADH,CACQ,UAAAC,IAAI,EAAI;AAEZ,cAAIA,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAe,CAAf,EAAkBC,OAAlB,IAA6B,SAAjC,EAA4C;AAC1C;AACA;AACAL,YAAAA,MAAM,CAAC,2BAAD,CAAN;AACD,WANW,CAOZ;AACA;AACA;;;AACAjB,UAAAA,OAAO,CAACC,GAAR,CAAYmB,IAAI,CAACC,IAAjB;AAEA,cAAIE,QAAQ,GAAGH,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAe,CAAf,CAAf;AACHrB,UAAAA,OAAO,CAACC,GAAR,CAAYmB,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAe,CAAf,EAAkBlB,MAA9B;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAYsB,QAAZ;AAEElC,UAAAA,YAAY,CAACmC,OAAb,CAAqB,QAArB,EAA+BJ,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAe,CAAf,EAAkBlB,MAAjD,EAhBa,CAiBZ;AACA;AACA;;AACAK,UAAAA,MAAM,CAAC,cAAD,EAAiBe,QAAjB,CAAN;AACAP,UAAAA,OAAO,CAACI,IAAD,CAAP;AACD,SAvBH,EAwBGK,KAxBH,CAwBS,UAAAC,GAAG,EAAI;AACZlB,UAAAA,MAAM,CAAC,YAAD,CAAN;AACAnB,UAAAA,YAAY,CAACsC,UAAb,CAAwB,OAAxB;AACAV,UAAAA,MAAM,CAACS,GAAD,CAAN;AACD,SA5BH;AA6BD,OAhCM,CAAP;AAiCD,KA3CM;AA6CPrB,IAAAA,MA7CO,yBA6CY;AAAA,UAAVG,MAAU,SAAVA,MAAU;AACjB,aAAO,IAAIO,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,YAAI;AACFT,UAAAA,MAAM,CAAC,QAAD,CAAN;AACAnB,UAAAA,YAAY,CAACsC,UAAb,CAAwB,QAAxB,EAFE,CAGF;;AACAX,UAAAA,OAAO;AACR,SALD,CAKE,OAAOY,KAAP,EAAc;AACdX,UAAAA,MAAM,CAACW,KAAD,CAAN;AACD;AACF,OATM,CAAP;AAUD;AAxDM,GAlCI;AA6FbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UAAU,EAAE,oBAAA5C,KAAK;AAAA,aAAI,CAAC,CAACA,KAAK,CAACE,KAAZ;AAAA,KADV;AAEPA,IAAAA,KAAK,EAAE,eAAAF,KAAK;AAAA,aAAIA,KAAK,CAACE,KAAV;AAAA,KAFL;AAGP2C,IAAAA,UAAU,EAAE,oBAAA7C,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAV;AAAA,KAHV;AAIV;AACE;AACD;AACA;AACE6C,IAAAA,WAAW,EAAE,qBAAA9C,KAAK,EAAI;AACpB,aAAOA,KAAK,CAACS,KAAb;AACD,KAVM,CAWP;AACA;AACD;;AAbQ;AA7FI,CAAf","sourcesContent":["import axios from 'axios';\r\nexport default {\r\n  state: {\r\n    status: \"\",\r\n    token: localStorage.getItem(\"token\") || \"\",\r\n    user: '',\r\n    role: '',\r\n    partner: '',\r\n    userid:'',\r\n    email:''\r\n  },\r\n\r\n  mutations: {\r\n    auth_request(state) {\r\n      state.status = \"loading\";\r\n    },\r\n    auth_success(state, payload) {\r\n  console.log(payload);\r\n      state.status = \"success\";\r\n      state.token = \"\";\r\n      state.user =payload.firstname;\r\n      state.role = \"\";\r\n      state.partner = \"\";\r\n      state.userid=payload.UserID;\r\n      state.email=payload.email;\r\n    },\r\n    auth_error(state) {\r\n      state.status = \"error\";\r\n    },\r\n    logout(state) {\r\n      state.status = \"\";\r\n      state.token = \"\";\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    login({ commit }, user) {\r\n      const _username = 's2sAff001'\r\n      const _password = 'XSxFE@AtQv#'\r\n      var config = {\r\n      auth: {\r\n        username: _username,\r\n         password: _password\r\n      }\r\n      };\r\n      return new Promise((resolve, reject) => {\r\n       commit('auth_request')\r\n   //console.log(user);\r\n        axios.post('http://161.49.63.45:9095/api/Affiliate/UserLogin', user,config)\r\n          .then(resp => {\r\n\r\n            if (resp.data.data[0].Message == \"INVALID\") {\r\n              // alert(\"Invalid username/password\")\r\n              // return false\r\n              reject(\"Invalid username/password\");\r\n            }\r\n            // const token = resp.data.message\r\n            // const user = resp.data.statusCode\r\n            // const role = resp.data.urole\r\n            console.log(resp.data);\r\n            \r\n            let response = resp.data.data[0];\r\n         console.log(resp.data.data[0].UserID);\r\n         console.log(response);\r\n        \r\n           localStorage.setItem('userid', resp.data.data[0].UserID);\r\n            //localStorage.setItem('userName', resp.daota.data.adminLogin.name);\r\n            //response.firstname = user.UserName;\r\n            // axios.defaults.headers.common['Authorization'] = token\r\n            commit('auth_success', response)\r\n            resolve(resp)\r\n          })\r\n          .catch(err => {\r\n            commit('auth_error')\r\n            localStorage.removeItem('token')\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n\r\n    logout({ commit }) {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          commit('logout')\r\n          localStorage.removeItem('userid')\r\n          // delete axios.defaults.headers.common['Authorization']\r\n          resolve()\r\n        } catch (error) {\r\n          reject(error)\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    isLoggedIn: state => !!state.token,\r\n    token: state => state.token,\r\n    authStatus: state => state.status,\r\n // userRole: state => state.role,\r\n   // userRole: state => {\r\n  //    return state.role;\r\n  //  },\r\n    getUsername: state => {\r\n      return state.email\r\n    },\r\n    //getPartner: state => {\r\n    //  return state.partner\r\n   //}\r\n  },\r\n};\r\n"]}]}