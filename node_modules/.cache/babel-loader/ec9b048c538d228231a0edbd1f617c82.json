{"remainingRequest":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\babel-loader\\lib\\index.js!D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\JK2L2\\BUCKET\\S2S_Affiliate\\src\\store\\modules\\AuthModule.js","dependencies":[{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\src\\store\\modules\\AuthModule.js","mtime":1651125363993},{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648442351798},{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\babel-loader\\lib\\index.js","mtime":1648442351661},{"path":"D:\\JK2L2\\BUCKET\\S2S_Affiliate\\node_modules\\eslint-loader\\index.js","mtime":1648442484257}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAiIiwKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIiwKICAgIHVzZXI6ICcnLAogICAgcm9sZTogJycsCiAgICBwYXJ0bmVyOiAnJywKICAgIHVzZXJpZDogJycKICB9LAogIG11dGF0aW9uczogewogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gImxvYWRpbmciOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQuZGF0YSk7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICJzdWNjZXNzIjsKICAgICAgc3RhdGUudG9rZW4gPSAiIjsKICAgICAgc3RhdGUudXNlciA9ICIiOwogICAgICBzdGF0ZS5yb2xlID0gIiI7CiAgICAgIHN0YXRlLnBhcnRuZXIgPSAiIjsKICAgICAgc3RhdGUudXNlcmlkID0gcGF5bG9hZC5kYXRhLlVzZXJJRDsKICAgIH0sCiAgICBhdXRoX2Vycm9yOiBmdW5jdGlvbiBhdXRoX2Vycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICJlcnJvciI7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gIiI7CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHZhciBfdXNlcm5hbWUgPSAnczJzQWZmMDAxJzsKICAgICAgdmFyIF9wYXNzd29yZCA9ICdYU3hGRUBBdFF2Iyc7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgYXV0aDogewogICAgICAgICAgdXNlcm5hbWU6IF91c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBfcGFzc3dvcmQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsgLy9jb25zb2xlLmxvZyh1c2VyKTsKCiAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzE2MS40OS42My40NTo5MDk1L2FwaS9BZmZpbGlhdGUvVXNlckxvZ2luJywgdXNlciwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcC5kYXRhLmRhdGFbMF0uTWVzc2FnZSA9PSAiSU5WQUxJRCIpIHsKICAgICAgICAgICAgLy8gYWxlcnQoIkludmFsaWQgdXNlcm5hbWUvcGFzc3dvcmQiKQogICAgICAgICAgICAvLyByZXR1cm4gZmFsc2UKICAgICAgICAgICAgcmVqZWN0KCJJbnZhbGlkIHVzZXJuYW1lL3Bhc3N3b3JkIik7CiAgICAgICAgICB9IC8vIGNvbnN0IHRva2VuID0gcmVzcC5kYXRhLm1lc3NhZ2UKICAgICAgICAgIC8vIGNvbnN0IHVzZXIgPSByZXNwLmRhdGEuc3RhdHVzQ29kZQogICAgICAgICAgLy8gY29uc3Qgcm9sZSA9IHJlc3AuZGF0YS51cm9sZQoKCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpOwogICAgICAgICAgdmFyIHJlc3BvbnNlID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEuZGF0YVswXS5Vc2VySUQpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJpZCcsIHJlc3AuZGF0YS5kYXRhWzBdLlVzZXJJRCk7IC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJOYW1lJywgcmVzcC5kYW90YS5kYXRhLmFkbWluTG9naW4ubmFtZSk7CiAgICAgICAgICAvL3Jlc3BvbnNlLmZpcnN0bmFtZSA9IHVzZXIuVXNlck5hbWU7CiAgICAgICAgICAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW4KCiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHJlc3BvbnNlKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJpZCcpOyAvLyBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXQoKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICAgIH0sCiAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRva2VuOwogICAgfSwKICAgIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICAgIH0sCiAgICAvLyB1c2VyUm9sZTogc3RhdGUgPT4gc3RhdGUucm9sZSwKICAgIC8vIHVzZXJSb2xlOiBzdGF0ZSA9PiB7CiAgICAvLyAgICByZXR1cm4gc3RhdGUucm9sZTsKICAgIC8vICB9LAogICAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJuYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgfSAvL2dldFBhcnRuZXI6IHN0YXRlID0+IHsKICAgIC8vICByZXR1cm4gc3RhdGUucGFydG5lcgogICAgLy99CgogIH0KfTs="},{"version":3,"sources":["D:/JK2L2/BUCKET/S2S_Affiliate/src/store/modules/AuthModule.js"],"names":["axios","state","status","token","localStorage","getItem","user","role","partner","userid","mutations","auth_request","auth_success","payload","console","log","data","UserID","auth_error","logout","actions","login","commit","_username","_password","config","auth","username","password","Promise","resolve","reject","post","then","resp","Message","response","setItem","catch","err","removeItem","error","getters","isLoggedIn","authStatus","getUsername"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nexport default {\r\n  state: {\r\n    status: \"\",\r\n    token: localStorage.getItem(\"token\") || \"\",\r\n    user: '',\r\n    role: '',\r\n    partner: '',\r\n    userid:''\r\n  },\r\n\r\n  mutations: {\r\n    auth_request(state) {\r\n      state.status = \"loading\";\r\n    },\r\n    auth_success(state, payload) {\r\n  console.log(payload.data);\r\n      state.status = \"success\";\r\n      state.token = \"\";\r\n      state.user =\"\";\r\n      state.role = \"\";\r\n      state.partner = \"\";\r\n      state.userid=payload.data.UserID\r\n    },\r\n    auth_error(state) {\r\n      state.status = \"error\";\r\n    },\r\n    logout(state) {\r\n      state.status = \"\";\r\n      state.token = \"\";\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    login({ commit }, user) {\r\n      const _username = 's2sAff001'\r\n      const _password = 'XSxFE@AtQv#'\r\n      var config = {\r\n      auth: {\r\n        username: _username,\r\n         password: _password\r\n      }\r\n      };\r\n      return new Promise((resolve, reject) => {\r\n       commit('auth_request')\r\n   //console.log(user);\r\n        axios.post('http://161.49.63.45:9095/api/Affiliate/UserLogin', user,config)\r\n          .then(resp => {\r\n\r\n            if (resp.data.data[0].Message == \"INVALID\") {\r\n              // alert(\"Invalid username/password\")\r\n              // return false\r\n              reject(\"Invalid username/password\");\r\n            }\r\n            // const token = resp.data.message\r\n            // const user = resp.data.statusCode\r\n            // const role = resp.data.urole\r\n            console.log(resp.data);\r\n            \r\n            let response = resp.data.data;\r\n         console.log(resp.data.data[0].UserID);\r\n        \r\n        \r\n           localStorage.setItem('userid', resp.data.data[0].UserID);\r\n            //localStorage.setItem('userName', resp.daota.data.adminLogin.name);\r\n            //response.firstname = user.UserName;\r\n            // axios.defaults.headers.common['Authorization'] = token\r\n            commit('auth_success', response)\r\n            resolve(resp)\r\n          })\r\n          .catch(err => {\r\n            commit('auth_error')\r\n            localStorage.removeItem('token')\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n\r\n    logout({ commit }) {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          commit('logout')\r\n          localStorage.removeItem('userid')\r\n          // delete axios.defaults.headers.common['Authorization']\r\n          resolve()\r\n        } catch (error) {\r\n          reject(error)\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    isLoggedIn: state => !!state.token,\r\n    token: state => state.token,\r\n    authStatus: state => state.status,\r\n // userRole: state => state.role,\r\n   // userRole: state => {\r\n  //    return state.role;\r\n  //  },\r\n    getUsername: state => {\r\n      return state.user\r\n    },\r\n    //getPartner: state => {\r\n    //  return state.partner\r\n   //}\r\n  },\r\n};\r\n"]}]}